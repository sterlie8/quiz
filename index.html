<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>POEM</title>

    <meta name="viewport" content="width=device-width,initial-scale=1" user-scaleable="no">
    <!-- 뷰포트를 디바이스 너비에 맞추어 지정, 줌인줌아웃불가 -->
    <link rel="stylesheet" type="text/css" href="style/style.css"/>

    <!-- css파일 연결 -->
    <!-- JQuery tabs https://jqueryui.com/tabs/ -->
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>

        <!-- Bootstrap radio button https://www.w3schools.com/bootstrap/bootstrap_forms_inputs.asp -->

    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <script>
        $( function() {
            $( "#tabs" ).tabs();
        } );
    </script>

  </head>
  <body>

    <main id = "main">
      <div class="container">

        <div id="promptTurn">
            <div id="promptBox">
              <br>
              <br>
                <p>모바일에서 접속하시거나<br>휴대폰을 돌려주세요!</p>
            </div>
        </div>



      <div id="startScreen">
        <h1><심리테스트 제목></h1>
        <img src="TitlePageImage.jpg" width=40% height=40%>
        <p>심리테스트에 대한 간단한 설명 몇줄<br>(내용 등)</p>
        <button class="start" onclick="toggle1()">start</button>
      </div>



<div class="container" id="tabs-1">
  <h1>시인 추천 사이트 입니다. 총7문항의 문항을 선택하시면, 취향에 맞는 시인을 추천해 드립니다!</h1>

  <div class="container" id="div_question1">
      <h2>여름방학을 떠올렸을 때 가장 먼저 하고 싶은 것은?</h2>
      <p>아래 3개중 본인의 취향에 맞는 문항을 선택하고 다음을 클릭하세요</p>
      <form>
        <div class="radio"><label><input type="radio" name="optradio1" value="option1_1">1. 공부</label></div>
          <div class="radio"><label><input type="radio" name="optradio1" value="option1_2">2. 여행</label></div>
          <div class="radio"><label><input type="radio" name="optradio1" value="option1_3">3. 운동</label></div>
          <div class="radio"><label><input type="radio" name="optradio1" value="option1_4">4. 휴식</label></div>
      </form>
      <input class = "btn btn-primary" type="button" id="btn_next1" data-dismiss="modal" value="다음">
  </div>

  <div class="container" id="div_question2" hidden>
      <h2>개학식 날이 밝았다. 학교에 생각보다 일찍 도착했는데 이 시간 동안 할 것은?</h2>
      <p>아래 3개중 본인의 취향에 맞는 문항을 선택하고 다음을 클릭하세요</p>
      <form>
          <div class="radio"><label><input type="radio" name="optradio2" value="option2_1">1. 자가진단</label></div>
          <div class="radio"><label><input type="radio" name="optradio2" value="option2_2">2. 친구들과 인사하기</label></div>
          <div class="radio"><label><input type="radio" name="optradio2" value="option2_3">3. 창 밖을 바라보기</label></div>
          <div class="radio"><label><input type="radio" name="optradio2" value="option2_4">4. 내가 일찍 도착했을 리가 없다.</label></div>
      </form>
      <input class = "btn btn-primary" type="button" id="btn_next2" data-dismiss="modal" value="다음">

  </div>

  <div class="container" id="div_question3" hidden>
      <h2>선생님과의 면담날이다. 내가 건낼 인사말은?</h2>
      <p>아래 3개중 본인의 취향에 맞는 문항을 선택하고 다음을 클릭하세요</p>
      <form>
          <div class="radio"><label><input type="radio" name="optradio3" value="option3_1">1. 보고싶었어요!</label></div>
          <div class="radio"><label><input type="radio" name="optradio3" value="option3_2">2. 선생님 더 예뻐지셨네요/ 잘생겨지셨어요.</label></div>
          <div class="radio"><label><input type="radio" name="optradio3" value="option3_3">3. 방학 동안 어떻게 지내셨어요?</label></div>
          <div class="radio"><label><input type="radio" name="optradio3" value="option3_4">4. 인사를 하지 않는다.</label></div>
      </form>
      <input class = "btn btn-primary" type="button" id="btn_next3" data-dismiss="modal" value="다음">

  </div>

  <div class="container" id="div_question4" hidden>
      <h2>수학여행 하루 전이다. 내일 어떤 옷을 입고 갈것인가? </h2>
      <p>아래 3개중 본인의 취향에 맞는 문항을 선택하고 다음을 클릭하세요</p>
      <form>
          <div class="radio"><label><input type="radio" name="optradio4" value="option4_1">1. 교복</label></div>
          <div class="radio"><label><input type="radio" name="optradio4" value="option4_2">2. 가장 편한 옷</label></div>
          <div class="radio"><label><input type="radio" name="optradio4" value="option4_3">3. 친구의 추천을 받는다.</label></div>
          <div class="radio"><label><input type="radio" name="optradio4" value="option4_4">4. 이번 수학여행의 주인공은 나다.</label></div>
      </form>
      <input class = "btn btn-primary" type="button" id="btn_next4" data-dismiss="modal" value="다음">
  </div>

  <div class="container" id="div_question5" hidden>
      <h2>시험 날이다. 아침 식사로 내가 먹고갈 것은?</h2>
      <p>아래 3개중 본인의 취향에 맞는 문항을 선택하고 다음을 클릭하세요</p>
      <form>
          <div class="radio"><label><input type="radio" name="optradio5" value="option5_1">1. 간단한 식사</label></div>
          <div class="radio"><label><input type="radio" name="optradio5" value="option5_2">2. 7첩 반상</label></div>
          <div class="radio"><label><input type="radio" name="optradio5" value="option5_3">3. 시험 잘보기 기원 떡</label></div>
          <div class="radio"><label><input type="radio" name="optradio5" value="option5_4">4. 먹지 않는다.</label></div>
      </form>
      <input class = "btn btn-primary" type="button" id="btn_next5" data-dismiss="modal" value="다음">
  </div>

  <div class="container" id="div_questionlast" hidden>
        <h2>축제날이다. 무대를 하나 해야하는데 내가 할 무대는?</h2>
        <p>아래 3개중 본인의 취향에 맞는 문항을 선택하고 다음을 클릭하세요</p>
          <form>
            <div class="radio"><label><input type="radio" name="optradiolast" value="optionlast_1">1. 댄스 공연</label></div>
            <div class="radio"><label><input type="radio" name="optradiolast" value="optionlast_2">2. 무술</label></div>
            <div class="radio"><label><input type="radio" name="optradiolast" value="optionlast_3">3. 트로트/노래 공연</label></div>
            <div class="radio"><label><input type="radio" name="optradiolast" value="optionlast_4">4. 마술</label></div>
          </form>
            <input class = "btn btn-primary" type="button" id="btn_next_last" data-dismiss="modal" value="결과를_보여주세요">

  </div>

  <hr>
  <div id="div_result">결과는 ?</div>


</div><!--end of tabs-1-->


</div><!--end of container-->


       <script>

       function toggle1() {
         $("#startScreen").hide()
         $("#tabs-1").show()
       }


       </script>


      <script>
               // 공용변수
               yloption = [];  // javascript 배열 https://app-dev.tistory.com/41
               dict = [0,0,0,0];
               ans = {
                 option1_1:[0,1],
                 option1_2:[1],
                 option1_3:[2],
                 option1_4:[3],
                 option2_1:[0],
                 option2_2:[1],
                 option2_3:[2],
                 option2_4:[3],
                 option3_1:[0],
                 option3_2:[1],
                 option3_3:[2],
                 option3_4:[3],
                 option4_1:[0],
                 option4_2:[1],
                 option4_3:[2],
                 option4_4:[3],
                 option5_1:[0],
                 option5_2:[1],
                 option5_3:[2],
                 option5_4:[3],
                 optionlast_1:[0],
                 optionlast_2:[1],
                 optionlast_3:[2],
                 optionlast_4:[3]
               }
               function score(x){
                 for (var i = 0; i<x.length; i++){
                   dict[i]+=1;
                 }

               }

               function yfnext(opt, val) {
                  console.log('opt val : ' + opt + ' , ' + val);
                   // 단순히 빈문자열( ' ' ), null 값, 정의되지 않은 값(undefined)
                   if( val == "" || val == null || val == undefined || ( val != null && typeof val == "object" && !Object.keys(val).length ) ){
                       alert("아무것도 선택되지 않았습니다! 선택후 '다음'을 클릭하세요!");
                   } else {
                       console.log(yloption);
                       if (opt == 'option1') {
                           yloption[0] = val;
                           $("#div_question1").hide()
                           $("#div_question2").show()
                       } else if (opt == 'option2') {
                           yloption[1] = val;
                           $("#div_question2").hide()
                           // $("#div_question3").show()
                           $("#div_question3").show()
                       } else if (opt == 'option3') {
                          yloption[2] = val;
                          $("#div_question3").hide()
                          $("#div_question4").show()
                        } else if (opt == 'option4') {
                           yloption[3] = val;
                           $("#div_question4").hide()
                           $("#div_question5").show()
                         } else if (opt == 'option5') {
                            yloption[4] = val;
                            $("#div_question5").hide()
                            $("#div_questionlast").show()
                       }  else if (opt == 'optionlast') {
                           yloption[5] = val;
                           $("#div_questionlast").hide()
                       }
                   }
               }
               $(document).ready(function() {

                   $("#btn_next1").click(function() {
                       console.log('Clicked btn_next1 !!!')
                       var optvalue = $("input[name='optradio1']:checked").val();
                       score(ans[optvalue])
                       console.log(dict)
                       yfnext('option1', optvalue);
                   });

                   $("#btn_next2").click(function() {
                       console.log('Clicked btn_next2 !!!')
                       var optvalue = $("input[name='optradio2']:checked").val();
                       dict[ans[optvalue]]+=1;
                       console.log(dict)
                       yfnext('option2', optvalue);
                   });



                   $("#btn_next3").click(function() {
                       console.log('Clicked btn_next3 !!!')
                       var optvalue = $("input[name='optradio3']:checked").val();
                       dict[ans[optvalue]]+=1;
                       console.log(dict)
                       yfnext('option3', optvalue);
                   });



                   $("#btn_next4").click(function() {
                       console.log('Clicked btn_next4 !!!')
                       var optvalue = $("input[name='optradio4']:checked").val();
                       dict[ans[optvalue]]+=1;
                       console.log(dict)
                       yfnext('option4', optvalue);
                   });

                   $("#btn_next5").click(function() {
                       console.log('Clicked btn_next5 !!!')
                       var optvalue = $("input[name='optradio5']:checked").val();
                       dict[ans[optvalue]]+=1;
                       console.log(dict)
                       yfnext('option5', optvalue);
                   });


                   $("#btn_next_last").click(function() {
                       console.log('Clicked btn_next_last !!!')
                       $("#div_result").text('결과는 ???')
                       var optvalue = $("input[name='optradiolast']:checked").val();
                       dict[ans[optvalue]]+=1;
                       console.log(dict)
                       yfnext('optionlast', optvalue);
                       console.log(yloption);

                       var max = dict[0];
                       var x = 0;

                       for (var i=0; i<dict.length; i++){

                         if(max < dict[i]) {
                           max = dict[i];
                           x = i;
                         }
                       }
                       console.log(x)
                       $("#div_result").text('결과는 ' + x)


                   } );
                 });
<!-- -->
          </script>




   </main>


  </body>
</html>
